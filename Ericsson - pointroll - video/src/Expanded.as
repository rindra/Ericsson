package  {	import flash.display.Sprite;	import flash.events.Event;	import flash.events.MouseEvent;	import com.greensock.TweenMax;	import com.greensock.TimelineLite;	import com.greensock.easing.Quint;	import com.greensock.plugins.TweenPlugin; 	import com.greensock.plugins.BlurFilterPlugin;	import com.rindra.utils.VP;	import com.rindra.events.VPEvent;		public class Expanded extends Sprite {		private var anime:Anime;		private var vp:VP;		private var vpReady:Boolean = false;		private var firstRollOver:Boolean = false;		private var count:uint;				public function Expanded() {			addEventListener(Event.ADDED_TO_STAGE, _init);		}				private function _init($e:Event):void{			anime = new Anime();			vp = new VP("438x246", "rtmp://cp33413.edgefcs.net/ondemand/cs/mp4:2012/ericsson/ericsson-v0.mp4", true, false, false, false);						anime.carousel.nav.buttonMode = true;			anime.close.buttonMode = true;			anime.logo.buttonMode = true;			anime.watch_full_video.buttonMode = true;			anime.video_mc.overlay.buttonMode = true;					anime.video_mc.overlay.addEventListener(MouseEvent.MOUSE_DOWN, _watchVideo);			anime.close.addEventListener(MouseEvent.MOUSE_DOWN, _collapseBanner);			anime.watch_full_video.addEventListener(MouseEvent.MOUSE_DOWN, _exitToWatchFullVideo);			anime.logo.addEventListener(MouseEvent.MOUSE_DOWN, _exitLogo);			anime.carousel.nav.addEventListener(MouseEvent.MOUSE_DOWN, _nav);			anime.carousel.nav.addEventListener(MouseEvent.MOUSE_OVER, function($e:MouseEvent):void{ $e.target.alpha = 1; });			anime.carousel.nav.addEventListener(MouseEvent.MOUSE_OUT, function($e:MouseEvent):void{ $e.target.alpha = .25; });						anime.video_mc.video.addChild(vp);			addChild(anime);						intro();		}				private function _nav($e:MouseEvent):void{			if($e.target.name == 'navRight'){				count = (count+1 < anime.carousel.imgs.numChildren/2)?++count:0				showSlide();			}			if($e.target.name == 'navLeft'){				count = (count-1 >= 0)?--count:anime.carousel.imgs.numChildren/2-1;				showSlide();			}		}				private function intro():void{			clearSlides();			var t:TimelineLite = new TimelineLite({onComplete:function():void{ showSlide(); }});			t.insert(TweenMax.from(anime.header, 1, {alpha:0, y:-20, ease:Quint.easeOut}));			t.insert(TweenMax.from(anime.footer, 1, {alpha:0, y:20, ease:Quint.easeOut}));		}				private function clearSlides():void{			TweenMax.killAll(true);			for(var i:uint; i<anime.carousel.imgs.numChildren; i++){				var el:Sprite = Sprite(anime.carousel.imgs.getChildAt(i));				el.alpha = 0;			}		}				private function showSlide():void{			clearSlides();			var img:Sprite = Sprite(anime.carousel.imgs.getChildByName('img'+count));			var copy:Sprite = Sprite(anime.carousel.imgs.getChildByName('copy'+count));			var t:TimelineLite = new TimelineLite();			t.insert(TweenMax.to(img, 1, {startAt:{alpha:0, y:20}, alpha:1, y:0, ease:Quint.easeOut}));			t.insert(TweenMax.to(copy, 1, {startAt:{alpha:0, x:20}, alpha:1, x:0, ease:Quint.easeOut}), .3);		}				private function _watchVideo($e:MouseEvent):void{			$e.target.visible = false;			vp.playVideo();		}				private function _collapseBanner($e:MouseEvent):void{			//Put code for closing banner here.			try{ vp.closeStream(); }catch(e:Error){}		}				private function _exitToWatchFullVideo($e:MouseEvent):void{			//Put code for CTA here.		}				private function _exitLogo($e:MouseEvent):void{			//Put code for CTA here.		}	}	}